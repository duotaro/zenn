---
title: "Next.jsã§ã€ŒTypeError: fetch failedã€ãŒå‡ºãŸã€‚"
emoji: "ğŸ˜½"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Next.js"]
published: true
---

# Next.jsã§ã€ŒTypeError: fetch failedã€ãŒå‡ºãŸã€‚

ã‚¨ãƒ©ãƒ¼ã®å†…å®¹ã¨ã—ã¦ã¯
```
TypeError: fetch failed
at Object.fetch (/var/task/node_modules/next/dist/compiled/undici/index.js:1:26684)
at processTicksAndRejections (node:internal/process/task_queues:96:5)
```

ã„ãã¤ã‹ã®è§£æ±ºæ–¹æ³•ãŒ [TypeError: fetch failed in server componant since next 13.0.6 #44062](https://github.com/vercel/next.js/issues/44062) ã«è¨˜è¼‰ã•ã‚Œã¦ã„ãŸã€‚
ç§ã®å ´åˆã¯ next.config.js ã®ä¸€ç•ªä¸Šã«ä»¥ä¸‹ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã§è§£æ±ºã€‚
```
const dns = require("dns");
dns.setDefaultResultOrder("ipv4first")
```
åŸå› ã¯ã€Node17/18ãŒlocalhostã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¨ã—ã¦ipv6ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ã‹ã‚‰ã‚‰ã—ã„ã€‚
[å‚è€ƒãƒšãƒ¼ã‚¸](https://github.com/node-fetch/node-fetch/issues/1624)

ã¤ã¾ã‚ŠNodeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ã‚‚è§£æ±ºã§ããã†ã€‚

